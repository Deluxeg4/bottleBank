CREATE DATABASE IF NOT EXISTS bottlebank
  CHARACTER SET utf8mb4
  COLLATE utf8mb4_unicode_ci;

USE bottlebank;

CREATE TABLE IF NOT EXISTS admin_users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    username VARCHAR(255) UNIQUE NOT NULL,
    password_hash VARCHAR(255) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);


CREATE TABLE IF NOT EXISTS bottle_entries (
    id INT AUTO_INCREMENT PRIMARY KEY,
    student_id VARCHAR(50) NOT NULL,       -- รหัสนักเรียน
    first_name VARCHAR(100) NOT NULL,      -- ชื่อ
    last_name VARCHAR(100) NOT NULL,       -- นามสกุล
    score INT NOT NULL DEFAULT 0,          -- คะแนน
    bottle_count INT NOT NULL DEFAULT 0,   -- จำนวนขวด
    bottle_type VARCHAR(50) NOT NULL,      -- ประเภทขวด
    bottle_size VARCHAR(50) NOT NULL,      -- ขนาดขวด
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    INDEX idx_student_id (student_id),
    INDEX idx_created_at (created_at)
);